<nav class="navbar-container navbar-expand" *ngIf="collection$ | async as collection">
  <div #collectionNameEditor *ngIf="collectionActions$ | async as pipeActions"
    class="ap-text-center ap-flex ap-items-center ap-justify-center collection-name-editor">

    <svg-icon [class.ap-opacity-0]="editing || !collectionNameHovered" [svgStyle]="{ width: '12px', height: '12px' }"
      [applyClass]="true" src="assets/img/custom/pencil-underline.svg" class="ap-flex ap-items-center ap-fill-body">
    </svg-icon>
    <app-editable-text [editing]="editing" (editingChanges)="changeEditValue($event)"
      [value]="collection.last_version.display_name" (valueChanges)="savePieceName($event)"
      [disableEditing]="viewMode$ | async | defaultTrue" [allowClick]="true"
      [cssClasses]="'ap-typography-headline-6 ap-font-bold'" class="ap-color-title"
      (mouseenter)="collectionNameHovered=true" (mouseleave)="collectionNameHovered=false"></app-editable-text>
    <app-chevron-dropdown-menu [hidden]="
        (viewMode$ | async | defaultFalse) || (flowsCount$ | async) === 0
      " [data]="pipeActions" (selectValueChange)="actionHandler($event)" *ngIf="!editing" [useChevron]="true"
      IdEntityName="Collection"></app-chevron-dropdown-menu>
  </div>
  <div class="ap-flex ap-items-center">
    <app-icon-button [width]="22" [height]="20" [iconFilename]="'logo/logo.svg'" [tooltipText]="'Home'"
      (buttonClicked)="redirectHome(false)" (auxclick)="redirectHome(true)"></app-icon-button>
    <div class="ap-flex-grow" #spacer></div>
    <div class="ap-flex ap-items-center ap-gap-2">
      <app-icon-button tooltipText="Version History" [iconFilename]="'revert.svg'"
        (buttonClicked)="openCollectionVersionsLists()" *ngIf="(viewMode$ | async) === false"></app-icon-button>
      <app-instance-settings *ngIf="(viewMode$ | async) === false"></app-instance-settings>
      <app-deploy-button *ngIf="(viewMode$ | async) === false"></app-deploy-button>
    </div>
  </div>
</nav>
<ng-container *ngIf="newCollectionCheck$ | async"></ng-container>
