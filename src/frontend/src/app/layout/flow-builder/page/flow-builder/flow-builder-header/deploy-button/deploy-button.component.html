<div [matTooltip]="tooltipText">
  <app-button btnSize="medium" placement="bottom"
    [disabled]="aFlowIsInvalid || isSaving || isDeploying" [class.invalid-publish]="aFlowIsInvalid"
    (buttonClicked)="deploy()">
    <ng-container *ngIf="isSaving || isDeploying; else defaultTemplate">
      <div class="d-flex loading-template">
        <svg-icon src="assets/img/custom/loading.svg" class="loading-spin-animation white-loader" [applyClass]="true">
        </svg-icon>
        {{ deployBtnText}}
      </div>
    </ng-container>
    <ng-template #defaultTemplate>
      <div class="d-flex publish-popover-text">
        {{ deployBtnText}}
      </div>
    </ng-template>
  </app-button>

</div>

<ng-container *ngIf="deploying$ | async"></ng-container>
<ng-container *ngIf="allFlowsValid$ | async"></ng-container>
<ng-container *ngIf="collectionState$ | async"></ng-container>
